<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mini Drive</title>
  <link rel="stylesheet" href="/styles.css" />
  <!-- DOCX & XLSX önizleme kütüphaneleri -->
  <script src="https://unpkg.com/docx-preview@1.3.8/dist/docx-preview.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" defer></script>
  <script src="/app.js" defer></script>
</head>
<body>
  <header>
    <h1>Mini Drive</h1>
    <nav id="nav">
      <button id="nav-login" class="link">Giriş</button>
      <button id="nav-register" class="link">Kayıt Ol</button>
      <button id="nav-dashboard" class="link hidden">Dosyalarım</button>
      <button id="logoutBtn" class="danger hidden">Çıkış</button>
    </nav>
  </header>

  <main>
    <!-- Kayıt -->
    <section id="registerSection" class="card hidden">
      <h2>Hesap Oluştur</h2>
      <form id="registerForm">
        <label>E-posta<input type="email" name="email" required /></label>
        <label>Ad (opsiyonel)<input type="text" name="name" /></label>
        <label>Parola<input type="password" name="password" minlength="6" required /></label>
        <button type="submit">Kayıt Ol</button>
      </form>
      <p class="muted">Zaten hesabın var mı? <a href="#" id="goLogin">Giriş yap</a></p>
    </section>

    <!-- Giriş -->
    <section id="loginSection" class="card">
      <h2>Giriş Yap</h2>
      <form id="loginForm">
        <label>E-posta<input type="email" name="email" required /></label>
        <label>Parola<input type="password" name="password" minlength="6" required /></label>
        <button type="submit">Giriş</button>
      </form>
      <p class="muted">Hesabın yok mu? <a href="#" id="goRegister">Kayıt ol</a></p>
    </section>

    <!-- Dashboard -->
    <section id="dashboardSection" class="hidden">
      <div class="card">
        <h2>Hoş geldin, <span id="userName"></span></h2>
        <form id="uploadForm">
          <label>Dosya Seç
            <input type="file" name="file" id="fileInput" accept=".jpg,.jpeg,.png,.pdf,.mp4,.docx,.xlsx" required />
          </label>
          <button type="submit">Yükle</button>
          <span id="uploadHint" class="muted">İzin verilenler: JPG/JPEG/PNG, MP4, PDF, DOCX, XLSX (<= 200MB)</span>
        </form>
      </div>

      <div id="fileList" class="grid"></div>
    </section>
  </main>

  <footer>
    <small>&copy; 2025 Mini Drive</small>
  </footer>
</body>
</html>
